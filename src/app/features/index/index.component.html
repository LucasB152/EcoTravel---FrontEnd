<div class="relative w-full h-80 bg-cover bg-center"
     style="background-image: url('https://www.elle.be/fr/wp-content/uploads/2018/05/eco-resorts.jpg');">
  <div class="absolute inset-0 flex items-center justify-center">
    <form class="max-w-2xl w-full px-6" (ngSubmit)="onSearch()">
      <div class="flex relative z-20">
        <!-- Bouton pour le menu déroulant -->
        <button id="dropdown-button" (click)="toggleDropdown()"
                class="flex-shrink-0 inline-flex items-center py-3 px-5 text-lg font-medium text-gray-900 bg-gray-100 border border-gray-300 rounded-s-lg hover:bg-gray-200 focus:ring-4 focus:outline-none focus:ring-gray-100"
                type="button">
          {{ selectedCategory }}
          <svg class="w-3 h-3 ms-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
               viewBox="0 0 10 6">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                  d="m1 1 4 4 4-4"/>
          </svg>
        </button>

        <!-- Menu déroulant avec *ngIf pour gérer l'affichage -->
        <div *ngIf="isDropdownOpen" id="dropdown"
             class="absolute top-full left-0 mt-1 bg-white divide-y divide-gray-100 rounded-lg shadow-lg w-44">
          <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdown-button">
            <li>
              <button type="button" (click)="selectCategory('All categories')"
                      class="inline-flex w-full px-4 py-2 hover:bg-gray-100 text-black">All categories
              </button>
            </li>
            <li>
              <button type="button" (click)="selectCategory('Accommodations')"
                      class="inline-flex w-full px-4 py-2 hover:bg-gray-100 text-black">Accommodations
              </button>
            </li>
            <li>
              <button type="button" (click)="selectCategory('Activities')"
                      class="inline-flex w-full px-4 py-2 hover:bg-gray-100 text-black">Activities
              </button>
            </li>
          </ul>
        </div>

        <!-- Champ de recherche -->
        <div class="relative w-full">
          <input type="search" id="search-dropdown" [(ngModel)]="searchQuery" name="searchQuery"
                 class="block py-3 px-5 w-full text-lg text-gray-900 bg-gray-50 rounded-e-lg border-s-gray-50 border-s-2 border border-gray-300 focus:ring-blue-500 focus:border-blue-500"
                 placeholder="Search for a destination, accommodation, an activity" required/>

          <!-- Bouton de soumission -->
          <button type="submit"
                  class="absolute top-0 right-0 p-3 h-full text-black bg-[#00a14b] rounded-e-lg border border-black-700 hover:bg-[#008c3a] focus:ring-4 focus:outline-none focus:ring-blue-300">
            <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/>
            </svg>
            <span class="sr-only">Search</span>
          </button>
        </div>
      </div>
    </form>
  </div>
</div>
<div class="max-w-screen-xl mx-auto px-4 py-8">
  <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-6 text-center">
    Most Popular
    <!--    TODO TEMP to del (debugg) -->
    <span *ngIf="destinationOnMap$ | async as destinationsOnMap"
          class="text-sm text-gray-500">({{ destinationsOnMap.length }} destinations)</span>
  </h2>
  <app-cards-list *ngIf="destination$ | async as destinations" [destinations]="destinations"></app-cards-list>
</div>
