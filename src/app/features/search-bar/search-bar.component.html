<div class="flex flex-col gap-4 md:flex-row md:items-center">
  <!-- Champ de recherche et bouton de recherche -->
  <div class="flex w-full md:w-auto">
    <input
      type="text"
      placeholder="Rechercher par titre ou description"
      [(ngModel)]="query"
      class="flex-grow md:flex-shrink-0 md:w-80 px-4 py-2 rounded-l-lg border-2 border-[#00a14b] focus:outline-none focus:ring-2 focus:ring-[#00a14b]"
    />
    <button
      (click)="search()"
      class="bg-[#00a14b] text-white rounded-r-lg px-4 py-2 hover:bg-[#00711b] transition-colors focus:outline-none focus:ring-2 focus:ring-[#00a14b]"
    >
      Rechercher
    </button>
  </div>

  <!-- Sélecteur de type -->
  <div class="relative w-full md:w-auto">
    <select
      [(ngModel)]="type"
      class="w-full h-10 border-2 border-[#00a14b] rounded-lg px-4 py-2 text-[#00a14b] bg-white focus:outline-none focus:ring-2 focus:ring-[#00a14b] tracking-wider hover:cursor-pointer"
    >
      <option value="">Tous les types</option>
      <option value="LODGING">Hébergement</option>
      <option value="ACTIVITY">Activité</option>
    </select>
  </div>

  <!-- Filtre par tags -->
  <div class="relative w-full md:w-auto">
    <button
      (click)="isTagsDropdownOpen = !isTagsDropdownOpen"
      class="w-full h-10 border-2 border-[#00a14b] rounded-lg px-4 py-2 text-[#00a14b] bg-white flex items-center justify-between hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-[#00a14b] transition"
    >
      Filtrer par tags
      <svg
        class="w-4 h-4 ml-2"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 9l-7 7-7-7"
        ></path>
      </svg>
    </button>
    <div
      *ngIf="isTagsDropdownOpen"
      class="absolute right-0 mt-2 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-10"
    >
      <div class="p-3 max-h-60 overflow-y-auto">
        <label
          *ngFor="let tag of availableTags$ | async"
          class="block cursor-pointer"
        >
          <input
            type="checkbox"
            [value]="tag"
            (change)="toggleTag(tag, $event)"
            class="mr-2"
          />
          {{ tag }}
        </label>
      </div>
    </div>
  </div>
</div>
