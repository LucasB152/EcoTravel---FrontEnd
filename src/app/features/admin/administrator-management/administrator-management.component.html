<!-- users.component.html -->

<div class="container mx-auto p-6">
  <h1 class="text-2xl font-bold mb-4">Liste des utilisateurs</h1>

  <table class="min-w-full bg-white border border-gray-300 rounded-lg shadow-md">
    <thead>
    <tr>
      <th class="p-2 text-left border-b">Prénom</th>
      <th class="p-2 text-left border-b">Nom</th>
      <th class="p-2 text-left border-b">Email</th>
      <th class="p-2 text-left border-b">Rôle</th>
      <th class="p-2 text-left border-b">Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let user of users$ | async">
      <td class="p-2 border-b">{{ user.firstName || 'Inconnu' }}</td>
      <td class="p-2 border-b">{{ user.lastName || 'Inconnu' }}</td>
      <td class="p-2 border-b">{{ user.email }}</td>
      <td class="p-2 border-b">{{ user.role }}</td>
      <td class="p-2 border-b">
        <button *ngIf="user.role !== 'ADMIN'"
                (click)="promoteUser(user.id!)"
                class="bg-[#00a14b] text-white p-2 rounded-lg hover:bg-[#008f44]">
          Promouvoir Admin
        </button>
      </td>
    </tr>
    </tbody>
  </table>
</div>
